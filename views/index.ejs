<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body style=<%- locals.session && session.usuario ? `background-color:${session.usuario.color}` : locals.session && session.color ? `background-color:${session.color}` : '' %>>
 <div class="formulario-index">

</div>

    <div class="container-index">
        <form action="/" method="POST">

          <h2>Formulario</h2>

            <div class="mb-3">
                <label for="name" class="form-label">Ingrese su nombre</label>
                <input type="text" name="nombre" class="form-control" id="name" value="<%= locals.old ? old.nombre : "" %>">
                <% if (locals.errors && errors.nombre) { %>
                    <small class="text-danger"><%= errors.nombre.msg %></small>
                <% } %>
            </div>
            <div class="div__selector--color">
            <select class="form-select" name="color" >
                <option selected value="">Elegi un color</option>
                <option value="red" <%= locals.old && old.color == 'red' ? 'selected' : '' %>>Rojo</option>
                <option value="green" <%= locals.old && old.color == 'green' ? 'selected' : '' %>>Verde</option>
                <option value="blue" <%= locals.old && old.color == 'blue' ? 'selected' : '' %>>Azul</option>
                <option value="gray" <%= locals.old && old.color == 'gray' ? 'selected' : '' %>>Gris</option>
                <option value="Yellow" <%= locals.old && old.color == 'Yellow' ? 'selected' : '' %>>Amarillo</option>
                <option value="Black " <%= locals.old && old.color == 'Black ' ? 'selected' : '' %>>Negro</option>
            </select>
            <% if (locals.errors && errors.color) { %>
                <small class="text-danger"><%= errors.color.msg  %></small>
            <% } %>
          </div>
            <div class="mb-3">
                <label for="email" class="form-label">Ingrese su email</label>
                <input type="email" name="email" class="form-control" id="email" value="<%= locals.old ? old.email : "" %>">
            <% if (locals.errors && errors.email) { %>
                <small class="text-danger"><%= errors.email.msg  %></small>
            <% } %>
            </div>
            <div class="mb-3">
                <label for="edad" class="form-label">Ingrese su edad</label>
                <input type="number" name="edad" class="form-control" id="edad" value="<%= locals.old ? old.edad : '' %> ">
                <% if (locals.errors && errors.edad) { %>
                  <small class="text-danger"><%= errors.edad.msg  %></small>
              <% } %>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" name="recordar" class="form-check-input" id="recordarColor">
                <label class="form-check-label" for="recordarColor">Recordar Color</label>
            </div>
            <button type="submit" class="btn btn-primary">Enviar</button>
            <button class="flex-delete"><a href="/deleteColor">Olvidar Color</a></button>

        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>